{"ast":null,"code":"var _jsxFileName = \"/home/ck/compoundefi/client/src/components/recommendations/ExecutionFlow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useWalletContext } from '../../context/WalletContext';\nimport { useNotification } from '../../context/NotificationContext';\nimport useTransactions from '../../hooks/useTransactions';\nimport { formatCurrency } from '../../utils/formatters';\nimport Button from '../common/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExecutionFlow = ({\n  recommendation,\n  onComplete,\n  onCancel\n}) => {\n  _s();\n  const [step, setStep] = useState('confirm'); // confirm, executing, complete, error\n  const [progress, setProgress] = useState(0);\n  const [statusMessage, setStatusMessage] = useState('Preparing transactions...');\n  const [operations, setOperations] = useState([]);\n  const [currentOperationIndex, setCurrentOperationIndex] = useState(-1);\n  const [confirmDisabled, setConfirmDisabled] = useState(false);\n  const [executionResults, setExecutionResults] = useState(null);\n  const {\n    isConnected,\n    address\n  } = useWalletContext();\n  const {\n    showNotification\n  } = useNotification();\n  const {\n    executeAIStrategy,\n    status,\n    error,\n    isExecuting,\n    result\n  } = useTransactions();\n\n  // Prepare operations from recommendation\n  useEffect(() => {\n    if (recommendation && recommendation.allocation) {\n      const ops = prepareOperationsFromRecommendation(recommendation);\n      setOperations(ops);\n    }\n  }, [recommendation]);\n\n  // Update progress based on transaction status\n  useEffect(() => {\n    if (status === 'idle') {\n      setProgress(0);\n      setStatusMessage('Preparing transactions...');\n    } else if (status === 'preparing') {\n      setProgress(10);\n      setStatusMessage('Building transaction operations...');\n    } else if (status === 'executing') {\n      // Progress will be updated by operation index changes\n      setStatusMessage('Executing transactions...');\n    } else if (status === 'success') {\n      setProgress(100);\n      setStatusMessage('Execution complete!');\n      setStep('complete');\n    } else if (status === 'error') {\n      setStatusMessage(`Execution failed: ${error}`);\n      setStep('error');\n    }\n  }, [status, error]);\n\n  // Handle confirmation and begin execution\n  const handleConfirm = async () => {\n    if (!isConnected) {\n      showNotification('Please connect your wallet first', 'error');\n      return;\n    }\n    if (operations.length === 0) {\n      showNotification('No valid operations to execute', 'error');\n      return;\n    }\n    setConfirmDisabled(true);\n    setStep('executing');\n    try {\n      // Set initial progress\n      setProgress(5);\n\n      // Execute operations\n      const results = await executeAIStrategy(operations);\n\n      // Update progress and status\n      setProgress(100);\n      setExecutionResults(results);\n\n      // Track each operation as it completes\n      if (results.operations) {\n        setCurrentOperationIndex(results.operations.length - 1);\n      }\n\n      // Set completion step\n      setStep(results.success ? 'complete' : 'error');\n    } catch (error) {\n      console.error('Strategy execution error:', error);\n      setStep('error');\n      setStatusMessage(`Execution failed: ${error.message}`);\n    }\n  };\n\n  // Handle cancel\n  const handleCancel = () => {\n    if (onCancel) {\n      onCancel();\n    }\n  };\n\n  // Function to prepare operations\n  const prepareOperationsFromRecommendation = recommendationData => {\n    if (!(recommendationData !== null && recommendationData !== void 0 && recommendationData.allocation)) {\n      return [];\n    }\n\n    // Get contract addresses from constants.js\n    const contractAddresses = {\n      amnis: \"0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a\",\n      thala: \"0xfaf4e633ae9eb31366c9ca24214231760926576c7b625313b3688b5e900731f6\",\n      tortuga: \"0x952c1b1fc8eb75ee80f432c9d0a84fcda1d5c7481501a7eca9199f1596a60b53\",\n      ditto: \"0xd11107bdf0d6d7040c6c0bfbdecb6545191fdf13e8d8d259952f53e1713f61b5\",\n      aries: \"0x9770fa9c725cbd97eb50b2be5f7416efdfd1f1554beb0750d4dae4c64e860da3\",\n      echo: \"0xeab7ea4d635b6b6add79d5045c4a45d8148d88287b1cfa1c3b6a4b56f46839ed\",\n      pancakeswap: \"0xc7efb4076dbe143cbcd98cfaaa929ecfc8f299203dfff63b95ccb6bfe19850fa\",\n      liquidswap: \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12\",\n      cetus: \"0x27156bd56eb5637b9adde4d915b596f92d2f28f0ade2eaef48fa73e360e4e8a6\"\n    };\n    const operations = recommendationData.allocation.map(item => {\n      // Determine operation type\n      const type = determineOperationType(item.product);\n\n      // Get contract address (normalize protocol name to lowercase)\n      const protocolLower = item.protocol.toLowerCase();\n      const contractAddress = contractAddresses[protocolLower] || null;\n\n      // If no contract address, skip this allocation\n      if (!contractAddress) {\n        console.warn(`No contract address found for protocol: ${item.protocol}`);\n        return null;\n      }\n\n      // Calculate amount if not explicitly provided\n      const amount = item.amount || (parseFloat(recommendationData.totalInvestment || 100) * parseFloat(item.percentage || 0) / 100).toFixed(2);\n\n      // Skip if amount is invalid\n      if (isNaN(parseFloat(amount)) || parseFloat(amount) <= 0) {\n        console.warn(`Invalid amount for ${item.protocol}: ${amount}`);\n        return null;\n      }\n      return {\n        protocol: item.protocol,\n        type,\n        amount,\n        contractAddress,\n        functionName: determineFunctionName(item.protocol, type),\n        expectedApr: parseFloat(item.expectedApr || 0)\n      };\n    }).filter(Boolean); // Remove null items\n\n    return operations;\n  };\n  const determineOperationType = product => {\n    if (!product) return 'stake';\n    const lower = product.toLowerCase();\n    if (lower.includes('stake') || lower.includes('stapt') || lower.includes('tapt')) {\n      return 'stake';\n    }\n    if (lower.includes('lend') || lower.includes('lending')) {\n      return 'lend';\n    }\n    if (lower.includes('liquidity') || lower.includes('amm') || lower.includes('pool')) {\n      return 'addLiquidity';\n    }\n    if (lower.includes('vault') || lower.includes('yield')) {\n      return 'deposit';\n    }\n    return 'stake'; // Default to staking\n  };\n  const determineFunctionName = (protocol, operationType) => {\n    var _functionMappings$pro;\n    const functionMappings = {\n      'amnis': {\n        'stake': '::staking::stake',\n        'unstake': '::staking::unstake',\n        'lend': '::lending::supply',\n        'withdraw': '::lending::withdraw',\n        'addLiquidity': '::router::add_liquidity',\n        'removeLiquidity': '::router::remove_liquidity'\n      },\n      'thala': {\n        'stake': '::staking::stake_apt',\n        'unstake': '::staking::unstake_apt',\n        'lend': '::lending::supply_apt',\n        'withdraw': '::lending::withdraw_apt',\n        'addLiquidity': '::router::add_liquidity',\n        'removeLiquidity': '::router::remove_liquidity'\n      },\n      'tortuga': {\n        'stake': '::staking::stake_apt',\n        'unstake': '::staking::unstake_apt'\n      },\n      'echo': {\n        'lend': '::lending::supply',\n        'withdraw': '::lending::withdraw'\n      },\n      'ditto': {\n        'stake': '::staking::stake',\n        'unstake': '::staking::unstake'\n      },\n      'aries': {\n        'lend': '::lending::supply',\n        'withdraw': '::lending::withdraw'\n      },\n      'cetus': {\n        'addLiquidity': '::pool::add_liquidity',\n        'removeLiquidity': '::pool::remove_liquidity'\n      },\n      'pancakeswap': {\n        'addLiquidity': '::router::add_liquidity',\n        'removeLiquidity': '::router::remove_liquidity',\n        'swap': '::router::swap_exact_input'\n      },\n      'liquidswap': {\n        'addLiquidity': '::router::add_liquidity',\n        'removeLiquidity': '::router::remove_liquidity'\n      }\n    };\n    const protocolLower = protocol.toLowerCase();\n    const operationLower = operationType.toLowerCase();\n\n    // If we have a specific mapping for this protocol and operation type, use it\n    if ((_functionMappings$pro = functionMappings[protocolLower]) !== null && _functionMappings$pro !== void 0 && _functionMappings$pro[operationLower]) {\n      return functionMappings[protocolLower][operationLower];\n    }\n\n    // Otherwise use general mappings\n    switch (operationLower) {\n      case 'stake':\n        return '::staking::stake';\n      case 'unstake':\n        return '::staking::unstake';\n      case 'lend':\n        return '::lending::supply';\n      case 'withdraw':\n        return '::lending::withdraw';\n      case 'addliquidity':\n        return '::router::add_liquidity';\n      case 'removeliquidity':\n        return '::router::remove_liquidity';\n      case 'deposit':\n        return '::yield::deposit';\n      default:\n        return `::${operationLower}::execute`;\n    }\n  };\n\n  // Render UI based on current step\n  const renderConfirmStep = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-gray-800 dark:text-white\",\n        children: \"Confirm Strategy Execution\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 dark:text-gray-300\",\n        children: \"You are about to execute the following operations:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-h-60 overflow-y-auto bg-white dark:bg-gray-900 rounded-md shadow p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-b dark:border-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"text-left py-2\",\n                children: \"Protocol\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"text-left py-2\",\n                children: \"Operation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"text-right py-2\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"text-right py-2\",\n                children: \"APR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: operations.map((op, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-b dark:border-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 font-medium\",\n                children: op.protocol\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 capitalize\",\n                children: op.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 text-right\",\n                children: [op.amount, \" APT\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 text-right text-green-600\",\n                children: [op.expectedApr, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded p-4 text-sm text-yellow-800 dark:text-yellow-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Review the operations carefully. Once confirmed, transactions cannot be reverted.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1\",\n              children: [\"You will need to sign \", operations.length, \" transaction\", operations.length !== 1 ? 's' : '', \" in your wallet.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: handleCancel,\n          disabled: confirmDisabled,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleConfirm,\n          disabled: confirmDisabled,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this);\n  };\n  const renderExecutingStep = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-gray-800 dark:text-white\",\n        children: \"Executing Strategy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600 dark:text-gray-400\",\n            children: \"Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-800 dark:text-gray-200\",\n            children: [progress, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-in-out\",\n            style: {\n              width: `${progress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 dark:text-gray-400\",\n          children: statusMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: operations.map((op, index) => {\n          const isActive = index === currentOperationIndex;\n          const isComplete = index < currentOperationIndex;\n          const isPending = index > currentOperationIndex;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-3 rounded-md border ${isActive ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20' : isComplete ? 'border-green-500 bg-green-50 dark:bg-green-900/20' : 'border-gray-200 dark:border-gray-700'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: op.protocol\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600 dark:text-gray-400 ml-2 capitalize\",\n                  children: op.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: [op.amount, \" APT\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 21\n                }, this), isComplete && /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-5 w-5 text-green-500\",\n                  fill: \"currentColor\",\n                  viewBox: \"0 0 20 20\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    fillRule: \"evenodd\",\n                    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n                    clipRule: \"evenodd\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 23\n                }, this), isActive && /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-5 w-5 text-blue-500 animate-spin\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    className: \"opacity-25\",\n                    cx: \"12\",\n                    cy: \"12\",\n                    r: \"10\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"opacity-75\",\n                    fill: \"currentColor\",\n                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-sm text-gray-600 dark:text-gray-400\",\n        children: isExecuting ? 'Please confirm transactions in your wallet' : 'Processing transactions...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this);\n  };\n  const renderCompleteStep = () => {\n    if (!executionResults) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-8 w-8 text-green-600 dark:text-green-400\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-800 dark:text-white\",\n          children: \"Strategy Execution Completed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-300 mt-2\",\n          children: [executionResults.operations.length, \" operation\", executionResults.operations.length !== 1 ? 's' : '', \" completed successfully.\", executionResults.failedOperations.length > 0 && ` ${executionResults.failedOperations.length} operation${executionResults.failedOperations.length !== 1 ? 's' : ''} failed.`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), executionResults.failedOperations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded p-4 text-sm text-yellow-800 dark:text-yellow-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Some operations failed to execute. You may want to try them again later.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-green-800 dark:text-green-200 mb-2\",\n          children: \"Your portfolio has been optimized\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-green-700 dark:text-green-300 text-sm\",\n          children: \"Your assets are now allocated according to the recommended strategy. CompounDefi will continue to monitor market conditions and suggest adjustments when needed.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: onComplete,\n          children: \"View Updated Portfolio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this);\n  };\n  const renderErrorStep = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/30 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-8 w-8 text-red-600 dark:text-red-400\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-800 dark:text-white\",\n          children: \"Strategy Execution Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-300 mt-2\",\n          children: statusMessage || 'There was an error executing the strategy.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-4 text-sm text-red-800 dark:text-red-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-red-400 mr-2 flex-shrink-0\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"The execution was interrupted or failed to complete. Possible reasons:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc pl-5 mt-1 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Transaction rejected in wallet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Insufficient balance for gas fees\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Network congestion or timeout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Contract execution error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: handleCancel,\n          children: \"Back to Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => {\n            setStep('confirm');\n            setConfirmDisabled(false);\n            setProgress(0);\n            setStatusMessage('Preparing transactions...');\n          },\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 max-w-3xl w-full\",\n    children: [step === 'confirm' && renderConfirmStep(), step === 'executing' && renderExecutingStep(), step === 'complete' && renderCompleteStep(), step === 'error' && renderErrorStep()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 558,\n    columnNumber: 5\n  }, this);\n};\n_s(ExecutionFlow, \"3K3gsxw2cERTM4dI0his3NL5yVc=\", false, function () {\n  return [useWalletContext, useNotification, useTransactions];\n});\n_c = ExecutionFlow;\nexport default ExecutionFlow;\nvar _c;\n$RefreshReg$(_c, \"ExecutionFlow\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useWalletContext","useNotification","useTransactions","formatCurrency","Button","jsxDEV","_jsxDEV","ExecutionFlow","recommendation","onComplete","onCancel","_s","step","setStep","progress","setProgress","statusMessage","setStatusMessage","operations","setOperations","currentOperationIndex","setCurrentOperationIndex","confirmDisabled","setConfirmDisabled","executionResults","setExecutionResults","isConnected","address","showNotification","executeAIStrategy","status","error","isExecuting","result","allocation","ops","prepareOperationsFromRecommendation","handleConfirm","length","results","success","console","message","handleCancel","recommendationData","contractAddresses","amnis","thala","tortuga","ditto","aries","echo","pancakeswap","liquidswap","cetus","map","item","type","determineOperationType","product","protocolLower","protocol","toLowerCase","contractAddress","warn","amount","parseFloat","totalInvestment","percentage","toFixed","isNaN","functionName","determineFunctionName","expectedApr","filter","Boolean","lower","includes","operationType","_functionMappings$pro","functionMappings","operationLower","renderConfirmStep","className","children","fileName","_jsxFileName","lineNumber","columnNumber","op","index","fill","viewBox","fillRule","d","clipRule","variant","onClick","disabled","renderExecutingStep","style","width","isActive","isComplete","isPending","xmlns","cx","cy","r","stroke","strokeWidth","renderCompleteStep","failedOperations","renderErrorStep","_c","$RefreshReg$"],"sources":["/home/ck/compoundefi/client/src/components/recommendations/ExecutionFlow.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useWalletContext } from '../../context/WalletContext';\r\nimport { useNotification } from '../../context/NotificationContext';\r\nimport useTransactions from '../../hooks/useTransactions';\r\nimport { formatCurrency } from '../../utils/formatters';\r\nimport Button from '../common/Button';\r\n\r\nconst ExecutionFlow = ({ recommendation, onComplete, onCancel }) => {\r\n  const [step, setStep] = useState('confirm'); // confirm, executing, complete, error\r\n  const [progress, setProgress] = useState(0);\r\n  const [statusMessage, setStatusMessage] = useState('Preparing transactions...');\r\n  const [operations, setOperations] = useState([]);\r\n  const [currentOperationIndex, setCurrentOperationIndex] = useState(-1);\r\n  const [confirmDisabled, setConfirmDisabled] = useState(false);\r\n  const [executionResults, setExecutionResults] = useState(null);\r\n\r\n  const { isConnected, address } = useWalletContext();\r\n  const { showNotification } = useNotification();\r\n  const { executeAIStrategy, status, error, isExecuting, result } = useTransactions();\r\n\r\n  // Prepare operations from recommendation\r\n  useEffect(() => {\r\n    if (recommendation && recommendation.allocation) {\r\n      const ops = prepareOperationsFromRecommendation(recommendation);\r\n      setOperations(ops);\r\n    }\r\n  }, [recommendation]);\r\n\r\n  // Update progress based on transaction status\r\n  useEffect(() => {\r\n    if (status === 'idle') {\r\n      setProgress(0);\r\n      setStatusMessage('Preparing transactions...');\r\n    } else if (status === 'preparing') {\r\n      setProgress(10);\r\n      setStatusMessage('Building transaction operations...');\r\n    } else if (status === 'executing') {\r\n      // Progress will be updated by operation index changes\r\n      setStatusMessage('Executing transactions...');\r\n    } else if (status === 'success') {\r\n      setProgress(100);\r\n      setStatusMessage('Execution complete!');\r\n      setStep('complete');\r\n    } else if (status === 'error') {\r\n      setStatusMessage(`Execution failed: ${error}`);\r\n      setStep('error');\r\n    }\r\n  }, [status, error]);\r\n\r\n  // Handle confirmation and begin execution\r\n  const handleConfirm = async () => {\r\n    if (!isConnected) {\r\n      showNotification('Please connect your wallet first', 'error');\r\n      return;\r\n    }\r\n    \r\n    if (operations.length === 0) {\r\n      showNotification('No valid operations to execute', 'error');\r\n      return;\r\n    }\r\n    \r\n    setConfirmDisabled(true);\r\n    setStep('executing');\r\n    \r\n    try {\r\n      // Set initial progress\r\n      setProgress(5);\r\n      \r\n      // Execute operations\r\n      const results = await executeAIStrategy(operations);\r\n      \r\n      // Update progress and status\r\n      setProgress(100);\r\n      setExecutionResults(results);\r\n      \r\n      // Track each operation as it completes\r\n      if (results.operations) {\r\n        setCurrentOperationIndex(results.operations.length - 1);\r\n      }\r\n      \r\n      // Set completion step\r\n      setStep(results.success ? 'complete' : 'error');\r\n    } catch (error) {\r\n      console.error('Strategy execution error:', error);\r\n      setStep('error');\r\n      setStatusMessage(`Execution failed: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // Handle cancel\r\n  const handleCancel = () => {\r\n    if (onCancel) {\r\n      onCancel();\r\n    }\r\n  };\r\n\r\n  // Function to prepare operations\r\n  const prepareOperationsFromRecommendation = (recommendationData) => {\r\n    if (!recommendationData?.allocation) {\r\n      return [];\r\n    }\r\n    \r\n    // Get contract addresses from constants.js\r\n    const contractAddresses = {\r\n      amnis: \"0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a\",\r\n      thala: \"0xfaf4e633ae9eb31366c9ca24214231760926576c7b625313b3688b5e900731f6\",\r\n      tortuga: \"0x952c1b1fc8eb75ee80f432c9d0a84fcda1d5c7481501a7eca9199f1596a60b53\",\r\n      ditto: \"0xd11107bdf0d6d7040c6c0bfbdecb6545191fdf13e8d8d259952f53e1713f61b5\",\r\n      aries: \"0x9770fa9c725cbd97eb50b2be5f7416efdfd1f1554beb0750d4dae4c64e860da3\",\r\n      echo: \"0xeab7ea4d635b6b6add79d5045c4a45d8148d88287b1cfa1c3b6a4b56f46839ed\",\r\n      pancakeswap: \"0xc7efb4076dbe143cbcd98cfaaa929ecfc8f299203dfff63b95ccb6bfe19850fa\",\r\n      liquidswap: \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12\",\r\n      cetus: \"0x27156bd56eb5637b9adde4d915b596f92d2f28f0ade2eaef48fa73e360e4e8a6\"\r\n    };\r\n    \r\n    const operations = recommendationData.allocation.map(item => {\r\n      // Determine operation type\r\n      const type = determineOperationType(item.product);\r\n      \r\n      // Get contract address (normalize protocol name to lowercase)\r\n      const protocolLower = item.protocol.toLowerCase();\r\n      const contractAddress = contractAddresses[protocolLower] || null;\r\n      \r\n      // If no contract address, skip this allocation\r\n      if (!contractAddress) {\r\n        console.warn(`No contract address found for protocol: ${item.protocol}`);\r\n        return null;\r\n      }\r\n      \r\n      // Calculate amount if not explicitly provided\r\n      const amount = item.amount || \r\n        ((parseFloat(recommendationData.totalInvestment || 100) * parseFloat(item.percentage || 0) / 100).toFixed(2));\r\n      \r\n      // Skip if amount is invalid\r\n      if (isNaN(parseFloat(amount)) || parseFloat(amount) <= 0) {\r\n        console.warn(`Invalid amount for ${item.protocol}: ${amount}`);\r\n        return null;\r\n      }\r\n      \r\n      return {\r\n        protocol: item.protocol,\r\n        type,\r\n        amount,\r\n        contractAddress,\r\n        functionName: determineFunctionName(item.protocol, type),\r\n        expectedApr: parseFloat(item.expectedApr || 0)\r\n      };\r\n    }).filter(Boolean); // Remove null items\r\n    \r\n    return operations;\r\n  };\r\n  \r\n  const determineOperationType = (product) => {\r\n    if (!product) return 'stake';\r\n    \r\n    const lower = product.toLowerCase();\r\n    \r\n    if (lower.includes('stake') || lower.includes('stapt') || lower.includes('tapt')) {\r\n      return 'stake';\r\n    }\r\n    if (lower.includes('lend') || lower.includes('lending')) {\r\n      return 'lend';\r\n    }\r\n    if (lower.includes('liquidity') || lower.includes('amm') || lower.includes('pool')) {\r\n      return 'addLiquidity';\r\n    }\r\n    if (lower.includes('vault') || lower.includes('yield')) {\r\n      return 'deposit';\r\n    }\r\n    \r\n    return 'stake'; // Default to staking\r\n  };\r\n  \r\n  const determineFunctionName = (protocol, operationType) => {\r\n    const functionMappings = {\r\n      'amnis': { \r\n        'stake': '::staking::stake', \r\n        'unstake': '::staking::unstake', \r\n        'lend': '::lending::supply', \r\n        'withdraw': '::lending::withdraw', \r\n        'addLiquidity': '::router::add_liquidity', \r\n        'removeLiquidity': '::router::remove_liquidity' \r\n      },\r\n      'thala': { \r\n        'stake': '::staking::stake_apt', \r\n        'unstake': '::staking::unstake_apt', \r\n        'lend': '::lending::supply_apt', \r\n        'withdraw': '::lending::withdraw_apt', \r\n        'addLiquidity': '::router::add_liquidity', \r\n        'removeLiquidity': '::router::remove_liquidity' \r\n      },\r\n      'tortuga': { \r\n        'stake': '::staking::stake_apt', \r\n        'unstake': '::staking::unstake_apt' \r\n      },\r\n      'echo': { \r\n        'lend': '::lending::supply', \r\n        'withdraw': '::lending::withdraw' \r\n      },\r\n      'ditto': { \r\n        'stake': '::staking::stake', \r\n        'unstake': '::staking::unstake' \r\n      },\r\n      'aries': { \r\n        'lend': '::lending::supply', \r\n        'withdraw': '::lending::withdraw' \r\n      },\r\n      'cetus': { \r\n        'addLiquidity': '::pool::add_liquidity', \r\n        'removeLiquidity': '::pool::remove_liquidity' \r\n      },\r\n      'pancakeswap': { \r\n        'addLiquidity': '::router::add_liquidity', \r\n        'removeLiquidity': '::router::remove_liquidity', \r\n        'swap': '::router::swap_exact_input' \r\n      },\r\n      'liquidswap': { \r\n        'addLiquidity': '::router::add_liquidity', \r\n        'removeLiquidity': '::router::remove_liquidity' \r\n      }\r\n    };\r\n\r\n    const protocolLower = protocol.toLowerCase();\r\n    const operationLower = operationType.toLowerCase();\r\n\r\n    // If we have a specific mapping for this protocol and operation type, use it\r\n    if (functionMappings[protocolLower]?.[operationLower]) {\r\n      return functionMappings[protocolLower][operationLower];\r\n    }\r\n\r\n    // Otherwise use general mappings\r\n    switch (operationLower) {\r\n      case 'stake': return '::staking::stake';\r\n      case 'unstake': return '::staking::unstake';\r\n      case 'lend': return '::lending::supply';\r\n      case 'withdraw': return '::lending::withdraw';\r\n      case 'addliquidity': return '::router::add_liquidity';\r\n      case 'removeliquidity': return '::router::remove_liquidity';\r\n      case 'deposit': return '::yield::deposit';\r\n      default: return `::${operationLower}::execute`;\r\n    }\r\n  };\r\n  \r\n  // Render UI based on current step\r\n  const renderConfirmStep = () => {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <h3 className=\"text-xl font-bold text-gray-800 dark:text-white\">\r\n          Confirm Strategy Execution\r\n        </h3>\r\n\r\n        <p className=\"text-gray-600 dark:text-gray-300\">\r\n          You are about to execute the following operations:\r\n        </p>\r\n\r\n        <div className=\"max-h-60 overflow-y-auto bg-white dark:bg-gray-900 rounded-md shadow p-4\">\r\n          <table className=\"min-w-full\">\r\n            <thead>\r\n              <tr className=\"border-b dark:border-gray-700\">\r\n                <th className=\"text-left py-2\">Protocol</th>\r\n                <th className=\"text-left py-2\">Operation</th>\r\n                <th className=\"text-right py-2\">Amount</th>\r\n                <th className=\"text-right py-2\">APR</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {operations.map((op, index) => (\r\n                <tr key={index} className=\"border-b dark:border-gray-700\">\r\n                  <td className=\"py-2 font-medium\">{op.protocol}</td>\r\n                  <td className=\"py-2 capitalize\">{op.type}</td>\r\n                  <td className=\"py-2 text-right\">{op.amount} APT</td>\r\n                  <td className=\"py-2 text-right text-green-600\">{op.expectedApr}%</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded p-4 text-sm text-yellow-800 dark:text-yellow-200\">\r\n          <div className=\"flex\">\r\n            <svg\r\n              className=\"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0\"\r\n              fill=\"currentColor\"\r\n              viewBox=\"0 0 20 20\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n            <div>\r\n              <p>Review the operations carefully. Once confirmed, transactions cannot be reverted.</p>\r\n              <p className=\"mt-1\">You will need to sign {operations.length} transaction{operations.length !== 1 ? 's' : ''} in your wallet.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex justify-end space-x-4\">\r\n          <Button \r\n            variant=\"outline\" \r\n            onClick={handleCancel}\r\n            disabled={confirmDisabled}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button \r\n            variant=\"primary\" \r\n            onClick={handleConfirm}\r\n            disabled={confirmDisabled}\r\n          >\r\n            Confirm\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderExecutingStep = () => {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <h3 className=\"text-xl font-bold text-gray-800 dark:text-white\">\r\n          Executing Strategy\r\n        </h3>\r\n\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex justify-between text-sm\">\r\n            <span className=\"text-gray-600 dark:text-gray-400\">Progress</span>\r\n            <span className=\"text-gray-800 dark:text-gray-200\">{progress}%</span>\r\n          </div>\r\n          <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5\">\r\n            <div\r\n              className=\"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-in-out\"\r\n              style={{ width: `${progress}%` }}\r\n            ></div>\r\n          </div>\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">{statusMessage}</p>\r\n        </div>\r\n\r\n        <div className=\"space-y-3\">\r\n          {operations.map((op, index) => {\r\n            const isActive = index === currentOperationIndex;\r\n            const isComplete = index < currentOperationIndex;\r\n            const isPending = index > currentOperationIndex;\r\n            \r\n            return (\r\n              <div\r\n                key={index}\r\n                className={`p-3 rounded-md border ${\r\n                  isActive\r\n                    ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\r\n                    : isComplete\r\n                    ? 'border-green-500 bg-green-50 dark:bg-green-900/20'\r\n                    : 'border-gray-200 dark:border-gray-700'\r\n                }`}\r\n              >\r\n                <div className=\"flex justify-between items-center\">\r\n                  <div>\r\n                    <span className=\"font-medium\">{op.protocol}</span>\r\n                    <span className=\"text-sm text-gray-600 dark:text-gray-400 ml-2 capitalize\">\r\n                      {op.type}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className=\"font-medium\">{op.amount} APT</span>\r\n                    {isComplete && (\r\n                      <svg\r\n                        className=\"h-5 w-5 text-green-500\"\r\n                        fill=\"currentColor\"\r\n                        viewBox=\"0 0 20 20\"\r\n                      >\r\n                        <path\r\n                          fillRule=\"evenodd\"\r\n                          d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\r\n                          clipRule=\"evenodd\"\r\n                        />\r\n                      </svg>\r\n                    )}\r\n                    {isActive && (\r\n                      <svg\r\n                        className=\"h-5 w-5 text-blue-500 animate-spin\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <circle\r\n                          className=\"opacity-25\"\r\n                          cx=\"12\"\r\n                          cy=\"12\"\r\n                          r=\"10\"\r\n                          stroke=\"currentColor\"\r\n                          strokeWidth=\"4\"\r\n                        ></circle>\r\n                        <path\r\n                          className=\"opacity-75\"\r\n                          fill=\"currentColor\"\r\n                          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                        ></path>\r\n                      </svg>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <p className=\"text-center text-sm text-gray-600 dark:text-gray-400\">\r\n          {isExecuting\r\n            ? 'Please confirm transactions in your wallet'\r\n            : 'Processing transactions...'}\r\n        </p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderCompleteStep = () => {\r\n    if (!executionResults) return null;\r\n    \r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 mb-4\">\r\n            <svg\r\n              className=\"h-8 w-8 text-green-600 dark:text-green-400\"\r\n              fill=\"currentColor\"\r\n              viewBox=\"0 0 20 20\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <h3 className=\"text-xl font-bold text-gray-800 dark:text-white\">\r\n            Strategy Execution Completed\r\n          </h3>\r\n          <p className=\"text-gray-600 dark:text-gray-300 mt-2\">\r\n            {executionResults.operations.length} operation{executionResults.operations.length !== 1 ? 's' : ''} completed successfully.\r\n            {executionResults.failedOperations.length > 0 && \r\n              ` ${executionResults.failedOperations.length} operation${executionResults.failedOperations.length !== 1 ? 's' : ''} failed.`\r\n            }\r\n          </p>\r\n        </div>\r\n\r\n        {executionResults.failedOperations.length > 0 && (\r\n          <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded p-4 text-sm text-yellow-800 dark:text-yellow-200\">\r\n            <div className=\"flex\">\r\n              <svg\r\n                className=\"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0\"\r\n                fill=\"currentColor\"\r\n                viewBox=\"0 0 20 20\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              <div>\r\n                <p>Some operations failed to execute. You may want to try them again later.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-4\">\r\n          <h4 className=\"font-medium text-green-800 dark:text-green-200 mb-2\">\r\n            Your portfolio has been optimized\r\n          </h4>\r\n          <p className=\"text-green-700 dark:text-green-300 text-sm\">\r\n            Your assets are now allocated according to the recommended strategy.\r\n            CompounDefi will continue to monitor market conditions and suggest adjustments when needed.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"text-center\">\r\n          <Button variant=\"primary\" onClick={onComplete}>\r\n            View Updated Portfolio\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderErrorStep = () => {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/30 mb-4\">\r\n            <svg\r\n              className=\"h-8 w-8 text-red-600 dark:text-red-400\"\r\n              fill=\"currentColor\"\r\n              viewBox=\"0 0 20 20\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <h3 className=\"text-xl font-bold text-gray-800 dark:text-white\">\r\n            Strategy Execution Failed\r\n          </h3>\r\n          <p className=\"text-gray-600 dark:text-gray-300 mt-2\">\r\n            {statusMessage || 'There was an error executing the strategy.'}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-4 text-sm text-red-800 dark:text-red-200\">\r\n          <div className=\"flex\">\r\n            <svg\r\n              className=\"h-5 w-5 text-red-400 mr-2 flex-shrink-0\"\r\n              fill=\"currentColor\"\r\n              viewBox=\"0 0 20 20\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n            <div>\r\n              <p>The execution was interrupted or failed to complete. Possible reasons:</p>\r\n              <ul className=\"list-disc pl-5 mt-1 space-y-1\">\r\n                <li>Transaction rejected in wallet</li>\r\n                <li>Insufficient balance for gas fees</li>\r\n                <li>Network congestion or timeout</li>\r\n                <li>Contract execution error</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex justify-center space-x-4\">\r\n          <Button variant=\"outline\" onClick={handleCancel}>\r\n            Back to Recommendations\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            onClick={() => {\r\n              setStep('confirm');\r\n              setConfirmDisabled(false);\r\n              setProgress(0);\r\n              setStatusMessage('Preparing transactions...');\r\n            }}\r\n          >\r\n            Try Again\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 max-w-3xl w-full\">\r\n      {step === 'confirm' && renderConfirmStep()}\r\n      {step === 'executing' && renderExecutingStep()}\r\n      {step === 'complete' && renderCompleteStep()}\r\n      {step === 'error' && renderErrorStep()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExecutionFlow;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}