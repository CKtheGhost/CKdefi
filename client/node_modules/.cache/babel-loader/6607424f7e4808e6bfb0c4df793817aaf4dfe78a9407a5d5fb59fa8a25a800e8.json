{"ast":null,"code":"/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac } from '@noble/hashes/hmac';\nimport { concatBytes, randomBytes } from '@noble/hashes/utils';\nimport { weierstrass } from './abstract/weierstrass.js';\n/** connects noble-curves to noble-hashes */\nexport function getHash(hash) {\n  return {\n    hash,\n    hmac: function (key) {\n      for (var _len = arguments.length, msgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        msgs[_key - 1] = arguments[_key];\n      }\n      return hmac(hash, key, concatBytes(...msgs));\n    },\n    randomBytes\n  };\n}\nexport function createCurve(curveDef, defHash) {\n  const create = hash => weierstrass({\n    ...curveDef,\n    ...getHash(hash)\n  });\n  return {\n    ...create(defHash),\n    create\n  };\n}","map":{"version":3,"names":["hmac","concatBytes","randomBytes","weierstrass","getHash","hash","key","_len","arguments","length","msgs","Array","_key","createCurve","curveDef","defHash","create"],"sources":["/home/ck/compoundefi/client/node_modules/@noble/curves/src/_shortw_utils.ts"],"sourcesContent":["/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac } from '@noble/hashes/hmac';\nimport { concatBytes, randomBytes } from '@noble/hashes/utils';\nimport type { CHash } from './abstract/utils.js';\nimport { type CurveFn, type CurveType, weierstrass } from './abstract/weierstrass.js';\n\n/** connects noble-curves to noble-hashes */\nexport function getHash(hash: CHash): {\n  hash: CHash;\n  hmac: (key: Uint8Array, ...msgs: Uint8Array[]) => Uint8Array;\n  randomBytes: typeof randomBytes;\n} {\n  return {\n    hash,\n    hmac: (key: Uint8Array, ...msgs: Uint8Array[]) => hmac(hash, key, concatBytes(...msgs)),\n    randomBytes,\n  };\n}\n/** Same API as @noble/hashes, with ability to create curve with custom hash */\nexport type CurveDef = Readonly<Omit<CurveType, 'hash' | 'hmac' | 'randomBytes'>>;\nexport type CurveFnWithCreate = CurveFn & { create: (hash: CHash) => CurveFn };\n\nexport function createCurve(curveDef: CurveDef, defHash: CHash): CurveFnWithCreate {\n  const create = (hash: CHash): CurveFn => weierstrass({ ...curveDef, ...getHash(hash) });\n  return { ...create(defHash), create };\n}\n"],"mappings":"AAAA;;;;AAIA;AACA,SAASA,IAAI,QAAQ,oBAAoB;AACzC,SAASC,WAAW,EAAEC,WAAW,QAAQ,qBAAqB;AAE9D,SAAuCC,WAAW,QAAQ,2BAA2B;AAErF;AACA,OAAM,SAAUC,OAAOA,CAACC,IAAW;EAKjC,OAAO;IACLA,IAAI;IACJL,IAAI,EAAE,SAAAA,CAACM,GAAe;MAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAKC,IAAkB,OAAAC,KAAA,CAAAJ,IAAA,OAAAA,IAAA,WAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAlBF,IAAkB,CAAAE,IAAA,QAAAJ,SAAA,CAAAI,IAAA;MAAA;MAAA,OAAKZ,IAAI,CAACK,IAAI,EAAEC,GAAG,EAAEL,WAAW,CAAC,GAAGS,IAAI,CAAC,CAAC;IAAA;IACvFR;GACD;AACH;AAKA,OAAM,SAAUW,WAAWA,CAACC,QAAkB,EAAEC,OAAc;EAC5D,MAAMC,MAAM,GAAIX,IAAW,IAAcF,WAAW,CAAC;IAAE,GAAGW,QAAQ;IAAE,GAAGV,OAAO,CAACC,IAAI;EAAC,CAAE,CAAC;EACvF,OAAO;IAAE,GAAGW,MAAM,CAACD,OAAO,CAAC;IAAEC;EAAM,CAAE;AACvC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}