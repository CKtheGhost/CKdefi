{"ast":null,"code":"var _jsxFileName = \"/home/ck/compoundefi/client/src/components/layout/DashboardLayout.jsx\",\n  _s = $RefreshSig$();\n// DashboardLayout.jsx - Main application layout for CompounDefi dashboard\n\n// src/components/layout/DashboardLayout.jsx\n// Fix the import paths:\nimport { useWalletContext } from '../../context/WalletContext';\nimport Navbar from '../common/Navbar';\nimport Sidebar from '../common/Sidebar';\nimport LoadingScreen from '../common/LoadingScreen';\nimport Notifications from '../common/Notifications';\nimport { checkApiStatus } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardLayout = ({\n  children\n}) => {\n  _s();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [appReady, setAppReady] = useState(false);\n  const [apiOnline, setApiOnline] = useState(true);\n  const {\n    isConnected,\n    portfolioLoading\n  } = useWalletContext();\n  useEffect(() => {\n    // Check API status on component mount\n    const verifyApiStatus = async () => {\n      try {\n        await checkApiStatus();\n        setApiOnline(true);\n      } catch (error) {\n        console.error('API status check failed:', error);\n        setApiOnline(false);\n      } finally {\n        // Mark app as ready even if API is offline\n        // We'll show appropriate messages in the UI\n        setAppReady(true);\n      }\n    };\n    verifyApiStatus();\n  }, []);\n\n  // Toggle sidebar\n  const toggleSidebar = () => setSidebarOpen(!sidebarOpen);\n\n  // Close sidebar when clicking outside on mobile\n  const closeSidebar = () => {\n    if (window.innerWidth < 768) {\n      setSidebarOpen(false);\n    }\n  };\n\n  // Show loading screen until app is ready\n  if (!appReady) {\n    return /*#__PURE__*/_jsxDEV(LoadingScreen, {\n      message: \"Initializing CompounDefi...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100 dark:bg-dark-darker\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      isOpen: sidebarOpen,\n      closeSidebar: closeSidebar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col flex-1 w-full overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        toggleSidebar: toggleSidebar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), !apiOnline && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-red-500 text-white p-2 text-center\",\n        children: \"API connection failed. Some features may be unavailable.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 overflow-y-auto overflow-x-hidden p-4 md:p-6 bg-gray-100 dark:bg-dark-darker\",\n        children: [isConnected && portfolioLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-dark-lighter p-4 rounded-lg shadow-lg flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-5 h-5 rounded-full border-2 border-primary border-t-transparent animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Loading portfolio data...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container mx-auto\",\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Notifications, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardLayout, \"NJK33sSfK5BN76MVgW+a521mFvo=\", false, function () {\n  return [useWalletContext];\n});\n_c = DashboardLayout;\nexport default DashboardLayout;\nvar _c;\n$RefreshReg$(_c, \"DashboardLayout\");","map":{"version":3,"names":["useWalletContext","Navbar","Sidebar","LoadingScreen","Notifications","checkApiStatus","jsxDEV","_jsxDEV","DashboardLayout","children","_s","sidebarOpen","setSidebarOpen","useState","appReady","setAppReady","apiOnline","setApiOnline","isConnected","portfolioLoading","useEffect","verifyApiStatus","error","console","toggleSidebar","closeSidebar","window","innerWidth","message","fileName","_jsxFileName","lineNumber","columnNumber","className","isOpen","_c","$RefreshReg$"],"sources":["/home/ck/compoundefi/client/src/components/layout/DashboardLayout.jsx"],"sourcesContent":["// DashboardLayout.jsx - Main application layout for CompounDefi dashboard\r\n\r\n// src/components/layout/DashboardLayout.jsx\r\n// Fix the import paths:\r\nimport { useWalletContext } from '../../context/WalletContext';\r\nimport Navbar from '../common/Navbar';\r\nimport Sidebar from '../common/Sidebar';\r\nimport LoadingScreen from '../common/LoadingScreen';\r\nimport Notifications from '../common/Notifications';\r\nimport { checkApiStatus } from '../../services/api';\r\n\r\nconst DashboardLayout = ({ children }) => {\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [appReady, setAppReady] = useState(false);\r\n  const [apiOnline, setApiOnline] = useState(true);\r\n  const { isConnected, portfolioLoading } = useWalletContext();\r\n\r\n  useEffect(() => {\r\n    // Check API status on component mount\r\n    const verifyApiStatus = async () => {\r\n      try {\r\n        await checkApiStatus();\r\n        setApiOnline(true);\r\n      } catch (error) {\r\n        console.error('API status check failed:', error);\r\n        setApiOnline(false);\r\n      } finally {\r\n        // Mark app as ready even if API is offline\r\n        // We'll show appropriate messages in the UI\r\n        setAppReady(true);\r\n      }\r\n    };\r\n\r\n    verifyApiStatus();\r\n  }, []);\r\n\r\n  // Toggle sidebar\r\n  const toggleSidebar = () => setSidebarOpen(!sidebarOpen);\r\n\r\n  // Close sidebar when clicking outside on mobile\r\n  const closeSidebar = () => {\r\n    if (window.innerWidth < 768) {\r\n      setSidebarOpen(false);\r\n    }\r\n  };\r\n\r\n  // Show loading screen until app is ready\r\n  if (!appReady) {\r\n    return <LoadingScreen message=\"Initializing CompounDefi...\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-100 dark:bg-dark-darker\">\r\n      {/* Sidebar */}\r\n      <Sidebar isOpen={sidebarOpen} closeSidebar={closeSidebar} />\r\n\r\n      {/* Main content */}\r\n      <div className=\"flex flex-col flex-1 w-full overflow-hidden\">\r\n        {/* Navbar */}\r\n        <Navbar toggleSidebar={toggleSidebar} />\r\n\r\n        {/* API offline warning */}\r\n        {!apiOnline && (\r\n          <div className=\"w-full bg-red-500 text-white p-2 text-center\">\r\n            API connection failed. Some features may be unavailable.\r\n          </div>\r\n        )}\r\n\r\n        {/* Main content area */}\r\n        <main className=\"flex-1 overflow-y-auto overflow-x-hidden p-4 md:p-6 bg-gray-100 dark:bg-dark-darker\">\r\n          {/* Loading overlay for portfolio data */}\r\n          {isConnected && portfolioLoading && (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50\">\r\n              <div className=\"bg-white dark:bg-dark-lighter p-4 rounded-lg shadow-lg flex items-center space-x-3\">\r\n                <div className=\"w-5 h-5 rounded-full border-2 border-primary border-t-transparent animate-spin\"></div>\r\n                <span>Loading portfolio data...</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Page content */}\r\n          <div className=\"container mx-auto\">\r\n            {children}\r\n          </div>\r\n        </main>\r\n      </div>\r\n\r\n      {/* Global notifications */}\r\n      <Notifications />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardLayout;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}